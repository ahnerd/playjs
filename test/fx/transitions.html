<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>System.Fx  测试</title>
		<script src="../../py/system.js" type="text/javascript"></script>
		<script src="../../py/system/dom/element.js" type="text/javascript"></script>
		<script src="../../py/system/fx/base.js" type="text/javascript"></script>
		<script src="../../py/system/fx/animate.js" type="text/javascript"></script>
		<script src="../../py/system/fx/transitions.js" type="text/javascript"></script>
		
		<script src="../../common/project/project.js" type="text/javascript"></script>
		<script src="../../common/assets/scripts/default.js" type="text/javascript"></script>
		<script src="../../common/assets/scripts/debug.js" type="text/javascript"></script>
		<style>
			
			
			.p {
				height: 3px;
				position: absolute;
				width: 3px;
				background: black;
			}
			
		</style>
		
		
		
	</head>
	<body> 
		<div style="position:absolute; height: 200px; width: 293px;  border: 1px solid purple" id="v"></div>
		
		<div style="height: 200px; "></div>
		<div style=" border: 1px solid purple ; height: 20px; position: absolute;"><div style="position: absolute; width: 20px ; left: -19px; top: 0px; height: 20px;  background: black;"  id="f"></div></div>
			<hr>
			
		
		<script>
			
			var height = 200;
			
			var Trans = Py.Fx.Base.extend({
				
				link:  'wait' ,
				
				fps: 100,
				
				duration: 3000,
				
				set: function(delta){
					this.x++;
					this.y = height - Py.Fx.compute(this.from, this.to, delta);
					
					document.createDiv('p').renderTo('v').setOffset(this);
					
					$('f').style.left = - 20 + this.x +  'px' ;
				},
				
				onStart: function(){
					$('v') .empty();
					this.x = 0;
				}
				
			});
			
			
			var fx =  new  Trans();
			
			for(var i in Py.Fx.Transitions) {
				document.write('<input type="button" onclick="fx.transition = Transitions.' + i + ';   fx.start(0, 200);" value="' + i + '">');
				document.write('<input type="button" onclick="fx.transition = Transitions.easeOut(Transitions.' + i + ');   fx.start(0, 200);" value="easeOut( ' + i + ' )">');
				document.write('<input type="button" onclick="fx.transition = Transitions.easeInOut(Transitions.' + i + ');   fx.start(0, 200);" value="easeInOut( ' + i + ' )">');
				document.write('<p />');
			}
			
		</script>
	</body>
</html>